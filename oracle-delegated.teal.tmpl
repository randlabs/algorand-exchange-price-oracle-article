// Signs statements to be used as inputs to the TEAL script.
// This is an ephemeral escrow.
// TMPL_ORACLE:					public key of the oracle
// TMPL_ORACLE_FEE_COLLECTOR:	public key of the oracle fee collector that receives the fees
// TMPL_ORACLE_FEE: 			fee to pay to the oracle

txn TypeEnum
int 1
==
txn Fee
global MinTxnFee
==
&&

// Oracle fee
txn TypeEnum
int 1
==
&&
txn Amount
int TMPL_ORACLE_FEE
>=
&&
txn Receiver 
addr TMPL_ORACLE_FEE_COLLECTOR
==
&&

gtxn 0 CloseRemainderTo 
global ZeroAddress
==
&&

// Note: price
txn Note
len
int 8
==
&& 

txn Note
btoi
// this number is replaced by the inject function
int 5
==
&&

txn LastValid
// this number is replaced by the inject function
int 6
<=
&&
